
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Catalog</title>
    <style>
        .audio-item {
            margin-bottom: 10px;
            border: 1px solid #ccc;
            padding: 10px;
        }
        .download-button {
            padding: 10px 10px;
            background-color: #4CAF50; /* –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏ */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Audio Catalog</h1>
    <div id="container"></div>
    <script>
        const container = document.getElementById('container');

        function createAudio(sound) {
            const audioItem = document.createElement('div');
            audioItem.className = 'audio-item';
            audioItem.innerHTML = `<h3>${sound.title || sound.filePath}</h3><audio controls></audio>`;

            const audioElement = audioItem.querySelector('audio');
            fetch(sound.filePath)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status} for ${sound.filePath}`);
                    }
                    return response.blob();
                })
                .then(blob => {
                    const url = URL.createObjectURL(blob);
                    audioElement.src = url;
                    const downloadButton = document.createElement('button');
                    downloadButton.className = 'download-button';
                    downloadButton.textContent = ' —Å–∫–∞—á–∞—Ç—åüé∂';
                    downloadButton.addEventListener('click', () => {
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = sound.title || sound.filePath.split('/').pop();
                        link.style.display = 'none';
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                    });
                    audioItem.appendChild(downloadButton);
                })
                .catch(error => {
                    console.error('Error fetching audio:', error);
                    audioItem.innerHTML += `<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</p>`;
                });

            container.appendChild(audioItem);
        }

        fetch('sound.php')
            .then(response => response.json())
            .then(sounds => {
                sounds.forEach(createAudio);
            })
            .catch(error => {
                console.error('Error fetching audio data:', error);
                container.innerHTML = '<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ –∞—É–¥–∏–æ.</p>';
            });
    </script>
</body>
</html> -->




<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio catalog</title>
</head>

<body>
    <p>Home page</p>
    <div class="container"></div>
</body>

<script>
    let createAudio = (uri) =>
    {
        const mainClassElement = "container";
        let mainDiv = document.getElementsByClassName(mainClassElement)[0];

        let soundDiv = document.createElement("div");
        let soundAudio = document.createElement("audio");
        soundAudio.setAttribute("controls", "");
        soundAudio.setAttribute("src", uri);

        soundDiv.appendChild(soundAudio);
        mainDiv.appendChild(soundDiv);
    }

    let xhr = new XMLHttpRequest();
    xhr.open("GET", "sound.php", false);
    xhr.send();

    const soundsAsObjects = JSON.parse(xhr.response);

    for(let sound of soundsAsObjects)
    {
        createAudio(sound.filePath);
    }
</script>

</html> -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Catalog</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #4e56c2; /* –°–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–π —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ */
            overflow: hidden; /* –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
            position: relative; /* –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–Ω–µ–∂–∏–Ω–æ–∫ */
        }

        .audio-item {
            margin: 10px 0;
        }

        .snowflake {
            position: absolute;
            top: -10px; /* –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–Ω–µ–∂–∏–Ω–∫–∏ */
            color: white; /* –¶–≤–µ—Ç —Å–Ω–µ–∂–∏–Ω–∫–∏ */
            font-size: 1em; /* –†–∞–∑–º–µ—Ä —Å–Ω–µ–∂–∏–Ω–∫–∏ */
            pointer-events: none; /* –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –º—ã—à—å—é */
            animation: fall linear infinite; /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è */
        }

        @keyframes fall {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(100vh); /* –ü–∞–¥–∞–µ—Ç –¥–æ –Ω–∏–∑–∞ —ç–∫—Ä–∞–Ω–∞ */
            }
        }
    </style>
</head>

<body>
    <div class="container mt-5">
        <h1 class="text-center">üíÉAudio Catalogüï∫</h1>
        <p class="text-center">üéºWelcome to the audio catalog of the Top Academyüéº</p>
        
        <!-- –ü–æ–ª–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –∫–Ω–æ–ø–∫–∞ -->
        <div class="form-group d-flex">
            <input type="text" id="searchInput" class="form-control" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
            <button id="searchButton" class="btn btn-primary ml-3">üîç –ü–æ–∏—Å–∫</button>
        </div>
        
        <div class="row" id="audioContainer"></div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        let currentAudio = null; // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∞—É–¥–∏–æ
        const sounds = [
        {
        title: "–ö–æ—Ä–æ–ª—å –∏ –®—É—Ç - –ê–¥–µ–ª—å.mp3",
        
    },
    {
        title: "–ö–æ—Ä–æ–ª—å –∏ –®—É—Ç -  –î–≤–∞ –¥—Ä—É–≥–∞.mp3",
        
    },
    {
        title: "–ö–æ—Ä–æ–ª—å –∏ –®—É—Ç - –î—É—Ä–∞–∫ –∏ –º–æ–ª–Ω–∏—è.mp3"
        
    }
        ]; // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤

        function createAudio(sound) {
            const audioItem = document.createElement('div');
            audioItem.className = 'col-12 audio-item'; 
            audioItem.innerHTML = `
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">${sound.title || sound.filePath.split('/').pop()}</h5>
                        <audio controls class="w-100"></audio>
                        <a href="#" class="btn btn-primary mt-2 download-link">üé∂–°–∫–∞—á–∞—Ç—åüé∂</a>
                    </div>
                </div>
            `;

            const audioElement = audioItem.querySelector('audio');
            const downloadLink = audioItem.querySelector('.download-link');

            //fetch(sound.filePath)
            //   .then(response => response.blob())
            //  .then(blob => {
            //     const url = URL.createObjectURL(blob);
            //    audioElement.src = url;
            //   downloadLink.href = url;
            //  downloadLink.download = sound.title || sound.filePath.split('/').pop();
            //})
            //.catch(error => console.error('Error fetching audio:', error));

            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –Ω–∞ –∞—É–¥–∏–æ
            audioElement.addEventListener('play', () => {
                // –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–µ–µ –∞—É–¥–∏–æ, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 
                if (currentAudio && currentAudio !== audioElement) {
                    currentAudio.pause();
                    currentAudio.currentTime = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Ä–µ–º—è
                }
                currentAudio = audioElement; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∞—É–¥–∏–æ
            });

            const container = document.getElementById('audioContainer');
            container.appendChild(audioItem);
        }

        //let xhr = new XMLHttpRequest();
        //xhr.open("GET", "sound.php", false);
        //xhr.send();

        //const soundsAsObjects = JSON.parse(xhr.response);
        //sounds.push(...soundsAsObjects); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∑–≤—É–∫–∏ –≤ –º–∞—Å—Å–∏–≤

        for (let sound of sounds) {
            createAudio(sound);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–Ω–µ–∂–∏–Ω–∫–∏
        const createSnowflake = () => {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.innerHTML = '‚ùÑ'; // –°–∏–º–≤–æ–ª —Å–Ω–µ–∂–∏–Ω–∫–∏
            snowflake.style.left = Math.random() * 100 + 'vw'; // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
            snowflake.style.fontSize = Math.random() * 1 + 0.5 + 'em'; // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's'; // –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            snowflake.style.opacity = Math.random(); // –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å

            document.body.appendChild(snowflake);

            // –£–¥–∞–ª—è–µ–º —Å–Ω–µ–∂–∏–Ω–∫—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
            snowflake.addEventListener('animationend', () => {
                snowflake.remove();
            });
        };

        // –°–æ–∑–¥–∞–µ–º —Å–Ω–µ–∂–∏–Ω–∫–∏ –∫–∞–∂–¥—ã–µ 200 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
        setInterval(createSnowflake, 200);

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');

        const performSearch = () => {
            const searchTerm = searchInput.value.toLowerCase();
            const container = document.getElementById('audioContainer');
            container.innerHTML = ''; // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∏ —Å–æ–∑–¥–∞–µ–º –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—É
            for (let sound of sounds) {
                if (sound.title.toLowerCase().includes(searchTerm)) {
                    createAudio(sound);
                }
            }
        };

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ –ø–æ–∏—Å–∫–∞
        searchButton.addEventListener('click', performSearch);

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à–∏ Enter
        searchInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                performSearch();
            }
        });
    </script>
</body>

</html>
